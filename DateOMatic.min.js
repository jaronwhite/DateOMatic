(function(){function c(y){return 10>y&&-10<y&&(y="0"+y),y}function h(){}function j(y,z){switch(y){case"M":return z+1;break;case"MM":return c(z+1);break;case"MMM":return u[z];break;case"MMMM":return t[z];}}function k(y,z){let A=y.split("").length;return 2===A?c(z):z}function l(y,z){if("D"===y)return x[z];return"DD"===y?w[z]:void 0}function n(y,z){return"h"===y?12<z?z-=12:0==z&&(z=12):"hh"===y?(12<z?z-=12:0==z&&(z=12),100>z&&(z=c(z))):"HH"===y?z=c(z):void 0,z}function o(y,z){let A;return A=12>z||24===z?"a":"p",1<y.length&&(A+="m"),y===y.toUpperCase()&&(A=A.toUpperCase()),A}function r(y,z){if("yy"===y)return z.toString().substring(2,4);return"yyyy"===y?z:void 0}function s(y){let A=y.split(""),B="",C=0,D={hasNoYear:!0,hasNoMonth:!0,parsedArray:[]};for(let E in A){E=parseInt(E);let F=A[E],G="",H=/[ -\/:@]/;H.test(F)&&(G=F);let I=A[E+1]!==F||G===F;if(B+=F,I){switch(F){case"y":D.hasNoYear=!1,D.parsedArray.push({type:"year",format:B,pos:C});break;case"q":D.parsedArray.push({type:"quarter",format:B,pos:C});break;case"M":D.hasNoMonth=!1,D.parsedArray.push({type:"month",format:B,pos:C});break;case"d":D.parsedArray.push({type:"day",format:B,pos:C});break;case"D":D.parsedArray.push({type:"weekDay",format:B,pos:C});break;case"h":case"H":D.parsedArray.push({type:"hour",format:B,pos:C});break;case"m":D.parsedArray.push({type:"minute",format:B,pos:C});break;case"s":D.parsedArray.push({type:"second",format:B,pos:C});break;case"S":D.parsedArray.push({type:"millisecond",format:B,pos:C});break;case"a":case"A":D.parsedArray.push({type:"meridiem",format:B,pos:C});break;case G:D.parsedArray.push({type:"specialChar",format:B,pos:C});break;default:return;}B="",C++}}return D}const t=["January","February","March","April","May","June","July","August","September","October","November","December"],u=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],w=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],x=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];Date.prototype.getQuarter=function(){let y=this.getMonth();if(3>y)return 0;return 2<y&&6>y?1:5<y&&9>y?2:3},Date.prototype.getEra=function(){return 0<this.getFullYear()?"CE":"BCE"},String.prototype.toDate=function(y){function A(J){let K=0,L=1970;return"yy"===J?(K=2,L=new Date().getFullYear().toString().substr(0,2)+G.substr(0,K)):"yyyy"==J&&(K=4,L=G.substr(0,K)),G=G.substr(K),L}function B(J){function K(N){for(let O in u)if(N.substr(0,3)==u[O])return O}let L=0,M=0;return"M"===J?(L=1,M=parseInt(G.substr(0,L))-1):"MM"===J?(L=2,M=parseInt(G.substr(0,L))-1):"MMM"===J?(L=3,M=K(G)):"MMMM"===J?(L=t[M].length,M=K(G)):void 0,G=G.substr(L),M}function C(J){let K=3;if(2==J.length)for(let M in x)G.substr(0,3)==x[M]&&(K=w[M].length);G=G.substr(K)}function D(J){let K=J.split("").length,L=G.substr(0,K);return G=G.substr(K),L}function E(J,K){let L=J.split(""),M=L.length,N=G.substr(0,M);return"h"!==L[0]||parseInt(K)||0===K||"P"!==K.split("")[0].toUpperCase()||(N=parseInt(N)+12),G=G.substr(M),N}function F(J,K){let P,M=J.split("").length,N=G.substr(0,1).toUpperCase(),O=parseInt(K);return P=0===O?N:function(){let Q;return Q="P"===N?O+12:O,Q}(),G=G.substr(M),P}let G=this,H=function(){let J={year:0,month:0,day:1,hour:0,minute:0,second:0,millisecond:0},K=s(y);if(K.hasNoYear||K.hasNoMonth)return!1;let L=K.parsedArray;for(let M in L){let N=L[M].format;switch(L[M].type){case"year":J.year=A(N);break;case"quarter":break;case"month":J.month=B(N);break;case"day":J.day=D(N);break;case"weekDay":C(y);break;case"era":G=G.substr(2);break;case"hour":J.hour=E(N,J.hour);break;case"minute":J.minute=D(N);break;case"second":J.second=D(N);break;case"meridiem":J.hour=F(N,J.hour);break;case"specialChar":G=G.substr(1);break;default:}}return console.log(J),J}(),I=new Date;for(let J in H)"year"===J?I.setFullYear(H[J]):"month"===J?I.setMonth(H[J]):"day"===J?I.setDate(H[J]):"hour"===J?I.setHours(H[J]):"minute"===J?I.setMinutes(H[J]):"second"===J?I.setSeconds(H[J]):"millisecond"===J?I.setMilliseconds(H[J]):void 0;return console.log(H),I},Date.prototype.format=function(y){let z=this.getFullYear(),A=this.getQuarter(),B=this.getMonth(),C=this.getDate(),D=this.getDay(),E=this.getHours(),F=this.getMinutes(),G=this.getSeconds(),H=this.getMilliseconds(),I=s(y).parsedArray,J="";for(let K in I){if(I[K].pos!=K)break;switch(I[K].type){case"year":J+=r(I[K].format,z);break;case"quarter":J+=h(I[K].format,A);break;case"month":J+=j(I[K].format,B);break;case"day":J+=k(I[K].format,C);break;case"weekDay":J+=l(I[K].format,D);break;case"hour":J+=n(I[K].format,E);break;case"minute":J+=k(I[K].format,F);break;case"second":J+=k(I[K].format,G);break;case"millisecond":J+=k(I[K].format,H);break;case"meridiem":J+=o(I[K].format,E);break;case"specialChar":J+=I[K].format;break;default:}}return J}})();
